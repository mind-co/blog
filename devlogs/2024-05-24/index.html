<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/basic.css"> <link rel=icon  href="/assets/favicon.png"> <title>devlog 2024-05-24</title> <header> <div class=blog-name > <span style="font-size: medium;">this is the</span> <a href="/">co</a>mind <span style="font-size: medium;">blog</span> <br/> </div> <!-- <nav> <ul> <li><a href="/">Home</a> <li><a href="/menu1/">Code blocks</a> <li><a href="/menu2/">More goodies</a> <li><a href="/menu3/">Tags</a> </ul> <img src="/assets/hamburger.svg" id=menu-icon > </nav> --> </header> <div class=franklin-content ><h1 id=devlog_2024-05-24 ><a href="#devlog_2024-05-24" class=header-anchor >devlog 2024-05-24</a></h1> <p>Wow, been a long time since my last devlog. It&#39;s been a weird few weeks, with some misc poor moods, lots of evening/weekend events. My actual job at Stanford has also been a lot recently.</p> <p>Anyway – I thought I&#39;d do a whole-ass overview of what&#39;s been going on and what&#39;s changed.</p> <h2 id=product ><a href="#product" class=header-anchor >Product</a></h2> <ul> <li><p>I sat down and figured out the entire API the server needs to provide, what tools the front-end needs to be able to handle, and basically how all of comind is supposed to work as a product. I&#39;ll be writing this up over the next few days thought it will sadly be internal for the moment.</p> <li><p>It&#39;ll be nice to sit down and work through each of the API points. There are a handful of people in a Telegram channel with me who are vaguely interested in the project – some of them have offered to help, but I have been extraordinarily bad at project management and making Comind a hospitable environment for new contributors. </p> <li><p>Hopefully, building a clear, concise design document for the backend will help me get other folks involved to the extent that they are interested.</p> <li><p>The product for comind is a server and an API, and the company will provide an open-source front-end for public use and development. Later on, we&#39;ll provide a paid-for commercial front-end that&#39;s not dissimilar from Slack on growth hormones.</p> <li><p>I am occasionally annoyed at how long it has taken me to appreciate the benefit of completing a <strong>complete plan</strong> for a product. I don&#39;t think I could have done anything different, since all my fucking around thusfar has been extremely helpful for me understanding exactly what I want comind to be.</p> <li><p>Time to get serious and get shit out the door. This is a good product.</p> </ul> <h2 id=backend ><a href="#backend" class=header-anchor >Backend</a></h2> <ul> <li><p>Lots of tinkering with graph database stuff and kind of just hating all the tools that exist. It will surprise nobody that the API support in Julia for various graph databases like Neo4j, TigerGraph, TerminusDB, etc. are either broken to shit or completely non-existent.</p> <li><p>I ended up writing an entire Julia package for property graphs &#40;PropertyGraphs.jl&#41; that supports pattern matching queries, with the eventual goal of producing an industrial-grade graph system for Comind&#39;s internal usage. The work was heavily inspired by <a href="https://github.com/JuliaComputing/SQLiteGraph.jl">SQLiteGraph.jl</a>, an incredibly simple package.</p> </ul> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> PropertyGraphs

<span class=hljs-comment ># Set up some nodes</span>
john = Node(<span class=hljs-number >1</span>, <span class=hljs-string >&quot;person&quot;</span>, <span class=hljs-string >&quot;human&quot;</span>; name=<span class=hljs-string >&quot;John Doe&quot;</span>, age=<span class=hljs-number >25</span>)
jane = Node(<span class=hljs-number >2</span>, <span class=hljs-string >&quot;person&quot;</span>, <span class=hljs-string >&quot;human&quot;</span>; name=<span class=hljs-string >&quot;Jane Doe&quot;</span>, age=<span class=hljs-number >26</span>)

<span class=hljs-comment ># Set up some edges</span>
john_jane = Edge(<span class=hljs-number >1</span>, <span class=hljs-number >2</span>, <span class=hljs-string >&quot;friend of&quot;</span>; since=<span class=hljs-number >2010</span>)
jane_john = Edge(<span class=hljs-number >2</span>, <span class=hljs-number >1</span>, <span class=hljs-string >&quot;friend of&quot;</span>; since=<span class=hljs-number >2011</span>)
husband = Edge(<span class=hljs-number >1</span>, <span class=hljs-number >2</span>, <span class=hljs-string >&quot;husband of&quot;</span>; since=<span class=hljs-number >1992</span>)
wife = Edge(<span class=hljs-number >2</span>, <span class=hljs-number >1</span>, <span class=hljs-string >&quot;wife of&quot;</span>; since=<span class=hljs-number >1992</span>)

<span class=hljs-comment ># Make the graph</span>
graph = PropertyGraph(
      Node[john, jane], 
      Edge[john_jane, jane_john, husband, wife]
)

<span class=hljs-comment ># Perform a match query to get all &quot;human&quot; nodes,</span>
<span class=hljs-comment ># returns a new graph with john and jane.</span>
match(graph, NodePattern(<span class=hljs-string >&quot;person&quot;</span>, <span class=hljs-string >&quot;human&quot;</span>))

<span class=hljs-comment ># returns just john</span>
match(graph, NodePattern(name=<span class=hljs-string >&quot;John Doe&quot;</span>))

<span class=hljs-comment ># Matching edges is similar, this returns a graph with </span>
<span class=hljs-comment ># just the &quot;friend of&quot; edges</span>
match(
      graph, 
      EdgePattern(<span class=hljs-string >&quot;friend of&quot;</span>)
)

<span class=hljs-comment ># You can also provide an arbitrary number of patterns to </span>
<span class=hljs-comment ># match on. For example, this will return a graph with</span>
<span class=hljs-comment ># john and jane, as well as the husband/wife edges</span>
<span class=hljs-comment ># between them.</span>
match(
      graph,
      NodePattern(name=<span class=hljs-string >&quot;John Doe&quot;</span>),
      NodePattern(name=<span class=hljs-string >&quot;Jane Doe&quot;</span>),
      EdgePattern(<span class=hljs-string >&quot;husband of&quot;</span>),
      EdgePattern(<span class=hljs-string >&quot;wife of&quot;</span>),
)</code></pre> <ul> <li><p>It was fun to write this, and it came together very quickly. It sadly does not implement the Graphs.jl abstract graph interface &#40;yet&#41; as there was some overhead I just wasn&#39;t willing to deal with for a prototype package.</p> <li><p>Eventually, PropertyGraphs.jl will sit on top of postgres and will be easily loaded/saved to disk, and the comind server will essentially just be running a large, in-memory graph DB. Over time the plan is to add tooling for distributed graph processing.</p> </ul> <h2 id=frontend ><a href="#frontend" class=header-anchor >Frontend</a></h2> <ul> <li><p>The frontend has come a long way. The design is simple and clean, though lacking a lot of features.</p> </ul> <p><img src="/assets/2024-05-24/main-page.png" alt="The main page" /> <img src="/assets/2024-05-24/short-page.png" alt="The main page, narrow" /></p> <ul> <li><p>You can also talk to people on it in melds. My friend Grace and I had our first conversation on Comind a few days ago – it was broken as hell, you had to refresh the page to see new messages – but it <strong>worked</strong>. Fuckin incredible.</p> <li><p>There are publicly accessible melds, the first of which is the void cafe:</p> </ul> <p><img src="/assets/2024-05-24/void-cafe.png" alt="The void cafe" /></p> <ul> <li><p>I did a massive overhaul to how the front-end handles suggestions &#40;thoughts you might want to think about&#41;. Now, there&#39;s a little &quot;think&quot; button in the bottom right that will show you thoughts that are related:</p> </ul> <p><img src="/assets/2024-05-24/thought-bubble.png" alt="A thought bubble" /></p> <ul> <li><p>Pressing the think button currently does <a href="https://en.wikipedia.org/wiki/Semantic_search">semantic search</a> to show you related thoughts, but we&#39;re working on the recommender system to show you more relevant thoughts that include graph information, popularity, recency, etc.</p> <li><p>Things I like about the design - It&#39;s simple and clean - It has a minimalistic design - It&#39;s unobtrusive</p> <li><p>Things I don&#39;t like about the design - It takes up too much screen real estate - It&#39;s slow and doesn&#39;t feel &quot;snappy&quot; - It&#39;s not the most mobile friendly</p> </ul> <h2 id=misc ><a href="#misc" class=header-anchor >Misc</a></h2> <p>Life has been very much in the way lately. I&#39;ve been able to do some work on comind here and there but I&#39;ve been quite burned out from work and I often feel like I need a break. The nights and weekends thing I&#39;ve been doing is fun and all, but it has been very difficult to juggle having a job, trying to exercise regularly, and spending time with people I love.</p> <p>At the same time, I&#39;m also looking for work as my postdoctoral contract ends relatively soon. Sadly, I do not have the financial resources to take a vacation of any kind, otherwise I would <em>happily</em> take off several months to work on comind. The days when I have a full workday are absolutely <em>insane</em> – I end up accomplishing the same amount of work in a day that I do over an entire week of nights &amp; weekends.</p> <p>Anyway. Looking forward to more stuff. I am delighted with the property graph stuff, and I&#39;m happy I was able to sit down and hand-write the entire business down. Feels good to have a plan.</p> <p>– Cameron</p> <div class=page-foot > mindco © thanks to <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and <a href="https://julialang.org">Julia</a>. <br/> </div> </div> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>